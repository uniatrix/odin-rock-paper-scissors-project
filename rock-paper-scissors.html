<!DOCTYPE html>
<html lang="en-us">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>Rock Paper Scissors</title>
</head>

<body>

  <p id="result"></p>
  <p id="score">Player: 0 | Computer: 0</p>

  <script>
    const choices = ['rock', 'paper', 'scissors'];
    let playerScore = 0;
    let computerScore = 0;

    function computerChoice() {
      return choices[Math.floor(Math.random() * 3)];
    }

    function play(playerSelection) {
      const compSelection = computerChoice();
      const result = getResult(playerSelection, compSelection);
      updateScore(result);
      updateResultText(playerSelection, compSelection, result);
      checkGameEnd();
    }

    function getResult(player, computer) {
      if (player === computer) return 'It\'s a tie!';
      if (
        (player === 'rock' && computer === 'scissors') ||
        (player === 'paper' && computer === 'rock') ||
        (player === 'scissors' && computer === 'paper')
      ) {
        return 'You win!';
      } else {
        return 'You lose!';
      }
    }

    function updateScore(result) {
      if (result === 'You win!') {
        playerScore++;
      } else if (result === 'You lose!') {
        computerScore++;
      }
      document.getElementById('score').innerText = `Player: ${playerScore} | Computer: ${computerScore}`;
    }

    function updateResultText(player, computer, result) {
      document.getElementById('result').innerText = `Player: ${player} | Computer: ${computer} | ${result}`;
    }

    function checkGameEnd() {
      if (playerScore === 3 || computerScore === 3) {
        alert(`Game Over! ${playerScore === 3 ? 'You' : 'Computer'} won the best-of-five series.`);
        resetGame();
      }
    }

    function resetGame() {
      playerScore = 0;
      computerScore = 0;
      document.getElementById('score').innerText = 'Player: 0 | Computer: 0';
    }
  </script>

  <button onclick="play('rock')">Rock</button>
  <button onclick="play('paper')">Paper</button>
  <button onclick="play('scissors')">Scissors</button>

</body>

</html>